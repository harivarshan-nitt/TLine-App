<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Results</title>
    <link rel ="stylesheet" type="text/css" href="{{ url_for('static',filename='css/style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body style="background-color: #FFF4A3;">
    {% extends "root.html" %}
    {% block content %}
    <div class="head">
      <div class="headbutton" onclick="javascript:history.back();"> < BACK  </div>
      <div class="headbutton" onclick="shortline()">SHORT</div>
      <div class="headbutton" onclick="mediumline()">MEDIUM</div>
      <div class="headbutton" onclick="longline()">LONG</div>
      <div class="headbutton_inv"></div>
      <div class="head_main">RESULTS</div>
    </div>
    <div style="width: 100%;height: 80px;"></div>
    
        <table>
            <tr>
                <th><div>PARAMETERS</div></th>
                <th><div>VALUES</div></th>
            </tr>
            {% for key,value in output.items() %}
            {% if key != 'bool' or key != 'model' %}
            <tr>
                <td><div>{{key}}</div></td>
                <td><div>{{value}}</div></td>
            </tr>
            {% endif %}
            {% endfor %}   
            
        </table>
        <div class="plot">
          <canvas id="cplot" width="800" height="800"></canvas>
        </div>
        <table  style="margin-top: 10px;">
          <tr>
              <th><div>PARAMETERS</div></th>
              <th><div>VALUES</div></th>
          </tr>
          {% for key,value in plot.items() %}
          {% if  key != 'radius' and key != 'r_x' and key != 'r_y' and key != 's_x' and key != 's_y'  %}
          <tr>
              <td><div>{{key}}</div></td>
              <td><div>{{value}}</div></td>
          </tr>
          {% endif %}
          {% endfor %}   
          
      </table>
        <br><br><br>
        <form class="invisible_form" action="/result" method="POST">
          {% for key,value in output.items() %}
          <input style ="display:none" name = "{{key}}" value="{{value}}">
          {% endfor %}
         <input style ="display:none" name = "bool" value="true">
          <input type="submit" value="Download" class ="button1">
        </form>
        <br>
        <br>
    <script type="text/javascript" src="{{ url_for('static',filename='js/result.js') }}"></script>
    <script>
      drawCirlce(ctx,{{plot["radius"]}},{{plot["r_x"]}},(-1)*{{plot["r_y"]}},2);
      drawCirlce(ctx,{{plot["radius"]}},{{plot["s_x"]}},(-1)*{{plot["s_y"]}},2);
      writeText("R",{{plot["r_x"]}},(-1)*{{plot["r_y"]}});
      writeText("S",{{plot["s_x"]}},(-1)*{{plot["s_y"]}});
      writeText("P (MW)",350,(-1)*-25)
      writeText("Q (MVAR)",-75,(-1)*375)
    </script>
    {% endblock %}
  </body>
</html>